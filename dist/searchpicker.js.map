{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/Utils.ts","webpack:///./src/pickeritems/DefaultPickerItem.ts","webpack:///./src/searchers/DefaultSearcher.ts","webpack:///./src/options/DefaultSearchPickerOptions.ts","webpack:///./src/SearchPickerChoices.ts","webpack:///./src/EventObject.ts","webpack:///./src/SearchPickerResults.ts","webpack:///./src/SearchPicker.ts","webpack:///./src/index.ts"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","Utility","wrapResultText","source","query","startpos","nodes","zregex","RegExp","replace","length","search","push","document","createTextNode","substr","em","createElement","appendChild","filterItems","items","options","ltrim","regex","ref","slice","foundItems","item","itemName","title","searchInValues","id","test","indexOf","parts","split","j","part","parseHtml","html","root","innerHTML","firstChild","hasClass","elem","clsName","classList","contains","className","match","getAttribute","element","attrName","attr","attributes","htmlEncode","div","text","addClass","add","removeClass","remove","reg","getCssPropertyValue","propname","window","getComputedStyle","currentStyle","getPropertyValue","isArray","obj","Array","isString","trim","String","insertAfter","refElem","parent","parentNode","next","nextSibling","insertBefore","DefaultPickerItem","DefaultSearcher","this","pickerItems","onresults","onerror","_this","tmrId","clearTimeout","setTimeout","result","pickerItemFactory","$map","placeholder","maxSelectedChoices","minLengthToSearch","resultRenderer","setAttribute","textNodes","noResultsRenderer","choiceRenderer","renderClose","choice","close_1","href","searcher","resultFooterRenderer","extendStatics","EventObject","events","$notifyEvent","eventName","args","_i","arguments","apply","on","cb","__extends","b","setPrototypeOf","__proto__","__","constructor","_super","SearchPickerChoices","container","isMobile","selected","keepActive","isActive","pendingBackstroke","sizerElm","getElementById","sizerElmText","childNodes","setup","addChoice","$renderChoice","inputJsElmWrap","inputElm","scaleSearchField","checkEmptiness","removeChoice","splice","removeChoiceElement","toString","removeAll","getSearchText","setSearchText","val","focus","canSelectMoreChoices","onFocus","getHeight","offsetHeight","inputForbidden","setAutocompleteText","shouldUpdateAutoComplete","removeAutocompleteText","selStart","inputValue","escapeRegexp","toUpperCase","selEnd","setSelectionRange","selectionStart","substring","set","disableInput","configurable","applyTemplate","bindEvents","placeholderText","ensureSizerElement","nodeValue","w","offsetWidth","style","width","display","disable","onBlur","styleBlock","styles","cssText","body","onclick","onClick","onblur","e","relatedTarget","activeElement","onfocus","onkeyup","onKeyUp","oninput","target","onInput","onkeydown","onKeyDown","clearBackstroke","evt","keyCode","backstrokeLength","keydownBackstroke","clearHilightedChoice","preventDefault","prevInputTextLength","selectionEnd","onRemoveChoiceClick","getSelectedChoiceById","highlightedChoice","_a","li","selectedItem","getElementsByTagName","lastChoice","inFocus","choices","parentElement","removeChild","type","autocomplete","index","tabIndex","metaKey","ctrlKey","shiftKey","newChoices_1","getChoicesRange","ch","forEach","el","stopPropagation","choice1","choice2","nodesToAdd","inInterval","k","SearchPickerResults","sourceElm","hideOnEmptyResults","selectFirstOnDefault","isShown","trackSelectedItems","itemsToHide","selectedObj","lastSearchQuery","processSearchResponses","setupHtml","highlightedIndex","getDefaultHighlightedIndex","hide","dropdownElm","show","invalidateActiveResultByIndex","searchInternal","repositionResults","setTop","moveSelectedDown","moveSelectedUp","selectHighlighted","selectedVia","highlightedEl","getItemById","setProcessSearchResponses","top","addSelectedResult","invalidateSelectedResults","clearHighlighted","removeSelectedResult","isSelected","updateOptions","addToBlacklist","toAdd","concat","removeFromBlacklist","toRemove","toRemove_1","getHighlighted","hi","process","data","resultsElm","numResults","resultsLimit","$buildResult","$buildNoResults","footer","$buildResultsFooter","message","$buildErrorResult","$template","left","idStr","results","footerContent","noResult","errorResult","ul","$foreachResult","some","hoverRemoved","elemFound","beforeId","afterId","undefined","hasChanged","invalidateActiveResultVisible","invalidateActiveResult","itemFound","liCollection","resultsJsObj","maxHeight","parseInt","scrollTop","visibleBottom","elBottom","offsetTop","SearchPicker","searchTmrId","navigator","userAgent","extendOptions","DefaultSearchPickerOptions","getChoices","clearChoices","updateSource","allowInput","forbidInput","choicesElm","onmouseleave","onmouseenter","onSearch","onEscape","onSelect","onChoiceRemoved","rank","count","onResultSelected","changed","totalCount","def","user","prop"],"mappings":"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","file":"searchpicker.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n","var Utility = /** @class */ (function () {\r\n    function Utility() {\r\n    }\r\n    Utility.wrapResultText = function (source, query) {\r\n        var nodes = [];\r\n        var startpos;\r\n        var zregex = new RegExp(query.replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g, \"\\\\$&\"), 'i');\r\n        if (query.length) {\r\n            startpos = source.search(zregex);\r\n            if (startpos < 0) {\r\n                nodes.push(document.createTextNode(source));\r\n            }\r\n            else {\r\n                nodes.push(document.createTextNode(source.substr(0, startpos)));\r\n                var em = document.createElement('em');\r\n                em.appendChild(document.createTextNode(source.substr(0, startpos + query.length).substr(startpos)));\r\n                nodes.push(em);\r\n                nodes.push(document.createTextNode(source.substr(startpos + query.length)));\r\n            }\r\n        }\r\n        else {\r\n            nodes.push(document.createTextNode(source));\r\n        }\r\n        return nodes;\r\n    };\r\n    Utility.filterItems = function (items, query, options) {\r\n        query = Utility.ltrim(query); //trim input query\r\n        var regex = new RegExp('^' + query.replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g, \"\\\\$&\"), 'i');\r\n        var ref = items.slice(0);\r\n        var foundItems = [];\r\n        for (var i = 0; i < ref.length; i++) {\r\n            var item = ref[i];\r\n            var itemName = item.title;\r\n            if (options.searchInValues) {\r\n                itemName += ' ' + item.id.replace(/^\\w+\\\\/g, '');\r\n            }\r\n            if (regex.test(item.title)) {\r\n                foundItems.push(item);\r\n            }\r\n            else if (itemName.indexOf(' ') >= 0 || itemName.indexOf('[') === 0 || itemName.indexOf('\\\\') >= 0) {\r\n                var parts = itemName.replace(/[\\[]/g, '').replace(/\\\\/g, ' ').split(' ');\r\n                if (parts.length) {\r\n                    for (var j = 0; j < parts.length; j++) {\r\n                        var part = parts[j];\r\n                        if (regex.test(part)) {\r\n                            foundItems.push(item);\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return foundItems;\r\n    };\r\n    Utility.parseHtml = function (html) {\r\n        var root = document.createElement(\"div\");\r\n        root.innerHTML = html;\r\n        return root.firstChild;\r\n    };\r\n    Utility.hasClass = function (elem, clsName) {\r\n        if (elem.classList) {\r\n            return elem.classList.contains(clsName);\r\n        }\r\n        //IE fallback:\r\n        return elem.className.match(new RegExp('(\\\\s|^)' + clsName + '(\\\\s|$)')) != null;\r\n    };\r\n    Utility.getAttribute = function (element, attrName) {\r\n        var attr = element.attributes[attrName];\r\n        if (!attr)\r\n            return undefined;\r\n        return attr.value;\r\n    };\r\n    Utility.htmlEncode = function (value) {\r\n        var div = document.createElement('div');\r\n        var text = document.createTextNode(value);\r\n        div.appendChild(text);\r\n        return div.innerHTML;\r\n    };\r\n    Utility.addClass = function (elem, clsName) {\r\n        if (elem.classList) {\r\n            elem.classList.add(clsName);\r\n            return;\r\n        }\r\n        if (!Utility.hasClass(elem, clsName))\r\n            elem.className += \" \" + clsName;\r\n    };\r\n    Utility.removeClass = function (elem, clsName) {\r\n        if (Utility.hasClass(elem, clsName)) {\r\n            if (elem.classList) {\r\n                elem.classList.remove(clsName);\r\n                return;\r\n            }\r\n            var reg = new RegExp('(\\\\s|^)' + clsName + '(\\\\s|$)');\r\n            elem.className = elem.className.replace(reg, ' ');\r\n        }\r\n    };\r\n    Utility.getCssPropertyValue = function (elem, propname) {\r\n        var computedStyle;\r\n        if (window.getComputedStyle) {\r\n            computedStyle = window.getComputedStyle(elem, null);\r\n        }\r\n        else {\r\n            computedStyle = elem.currentStyle;\r\n        }\r\n        return computedStyle.getPropertyValue(propname);\r\n    };\r\n    Utility.isArray = function (obj) {\r\n        return Array.isArray(obj);\r\n    };\r\n    Utility.isString = function (obj) {\r\n        return typeof (obj) === 'string';\r\n    };\r\n    Utility.trim = function (source) {\r\n        if (!String.prototype.trim) {\r\n            return source.replace(/^\\s+|\\s+$/g, '');\r\n        }\r\n        return source.trim();\r\n    };\r\n    Utility.ltrim = function (source) {\r\n        return source.replace(/^\\s+/, '');\r\n    };\r\n    Utility.insertAfter = function (elem, refElem) {\r\n        var parent = refElem.parentNode;\r\n        var next = refElem.nextSibling;\r\n        if (next) {\r\n            return parent.insertBefore(elem, next);\r\n        }\r\n        else {\r\n            return parent.appendChild(elem);\r\n        }\r\n    };\r\n    return Utility;\r\n}());\r\nexport { Utility };\r\n","var DefaultPickerItem = /** @class */ (function () {\r\n    function DefaultPickerItem() {\r\n    }\r\n    DefaultPickerItem.create = function (id, title) {\r\n        var item = new DefaultPickerItem();\r\n        item.title = title;\r\n        item.id = id;\r\n        return item;\r\n    };\r\n    return DefaultPickerItem;\r\n}());\r\nexport { DefaultPickerItem };\r\n","import { Utility } from \"../Utils\";\r\nvar DefaultSearcher = /** @class */ (function () {\r\n    function DefaultSearcher() {\r\n        this.pickerItems = null;\r\n        this.foundItems = [];\r\n    }\r\n    DefaultSearcher.prototype.search = function (query, options, onresults, onerror) {\r\n        var _this = this;\r\n        if (this.tmrId)\r\n            clearTimeout(this.tmrId);\r\n        this.tmrId = setTimeout(function () {\r\n            if (!_this.pickerItems) //TODO updating...\r\n                _this.pickerItems = $map(options.source, options);\r\n            _this.foundItems = Utility.filterItems(_this.pickerItems, query, options);\r\n            _this.tmrId = null;\r\n            onresults(_this.foundItems);\r\n        }, 50);\r\n    };\r\n    return DefaultSearcher;\r\n}());\r\nexport { DefaultSearcher };\r\nfunction $map(source, options) {\r\n    var result = [];\r\n    for (var i = 0; i < source.length; i++) {\r\n        result.push(options.pickerItemFactory(source[i]));\r\n    }\r\n    return result;\r\n}\r\n","import { DefaultPickerItem } from \"../pickeritems/DefaultPickerItem\";\r\nimport { Utility } from \"../Utils\";\r\nimport { DefaultSearcher } from \"../searchers/DefaultSearcher\";\r\nvar DefaultSearchPickerOptions = /** @class */ (function () {\r\n    function DefaultSearchPickerOptions() {\r\n        this.source = [];\r\n        this.placeholder = '';\r\n        this.maxSelectedChoices = 0;\r\n        this.minLengthToSearch = 1;\r\n        this.searchInValues = false;\r\n        //Представление элемента\r\n        this.pickerItemFactory = function (item) {\r\n            return DefaultPickerItem.create(item.id, item.title);\r\n        };\r\n        this.resultRenderer = function (item, query) {\r\n            var root = document.createElement('a');\r\n            root.setAttribute('href', '#');\r\n            var textNodes = Utility.wrapResultText(item.title, query);\r\n            for (var i = 0; i < textNodes.length; i++) {\r\n                root.appendChild(textNodes[i]);\r\n            }\r\n            return root;\r\n        };\r\n        this.noResultsRenderer = function (query) {\r\n            return document.createTextNode('No results found for \"' + Utility.htmlEncode(query) + '\"');\r\n        };\r\n        this.choiceRenderer = function (item, renderClose) {\r\n            var choice = document.createElement('span');\r\n            choice.appendChild(document.createTextNode(item.title));\r\n            if (renderClose) {\r\n                var close_1 = document.createElement('a');\r\n                close_1.href = 'javascript: void(0);';\r\n                close_1.className = 'search-choice-close';\r\n                choice.appendChild(close_1);\r\n            }\r\n            return choice;\r\n        };\r\n        this.searcher = new DefaultSearcher();\r\n        this.resultFooterRenderer = null;\r\n    }\r\n    return DefaultSearchPickerOptions;\r\n}());\r\nexport { DefaultSearchPickerOptions };\r\n","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { EventObject } from \"./EventObject\";\r\nimport { Utility } from \"./Utils\";\r\nvar EMPTY_PICKER_CSS_CLASS = \"__empty\";\r\nvar SearchPickerChoices = /** @class */ (function (_super) {\r\n    __extends(SearchPickerChoices, _super);\r\n    function SearchPickerChoices(container, options, isMobile) {\r\n        var _this = _super.call(this) || this;\r\n        _this.container = container;\r\n        _this.options = options;\r\n        _this.selected = [];\r\n        _this.keepActive = false;\r\n        _this.isActive = false;\r\n        _this.pendingBackstroke = [];\r\n        _this.isMobile = isMobile;\r\n        _this.sizerElm = document.getElementById('__srchpicker-sizer');\r\n        if (_this.sizerElm) {\r\n            _this.sizerElmText = _this.sizerElm.childNodes[0];\r\n        }\r\n        _this.setup();\r\n        return _this;\r\n    }\r\n    SearchPickerChoices.prototype.addChoice = function (item) {\r\n        var id = this.selected.push(item) - 1;\r\n        //insert new choice item into DOM\r\n        this.container.insertBefore(this.$renderChoice(item, id), this.inputJsElmWrap);\r\n        this.inputElm.value = '';\r\n        this.scaleSearchField();\r\n        this.checkEmptiness();\r\n    };\r\n    SearchPickerChoices.prototype.removeChoice = function (item) {\r\n        for (var i = 0; i < this.selected.length; i++) {\r\n            if (this.selected[i].id === item.id) {\r\n                this.selected.splice(i, 1);\r\n                this.removeChoiceElement(item.id.toString());\r\n                this.scaleSearchField();\r\n                this.$notifyEvent('choiceRemoved', item);\r\n                this.checkEmptiness();\r\n                return;\r\n            }\r\n        }\r\n    };\r\n    SearchPickerChoices.prototype.removeAll = function () {\r\n        var length = this.selected.length;\r\n        for (var i = 0; i < length; i++) {\r\n            this.removeChoice(this.selected[0]);\r\n        }\r\n    };\r\n    SearchPickerChoices.prototype.getSearchText = function () {\r\n        return this.inputElm.value;\r\n    };\r\n    SearchPickerChoices.prototype.setSearchText = function (val) {\r\n        this.inputElm.value = val;\r\n        this.checkEmptiness();\r\n    };\r\n    SearchPickerChoices.prototype.focus = function () {\r\n        if (!this.canSelectMoreChoices())\r\n            return;\r\n        this.onFocus();\r\n        this.inputElm.focus();\r\n    };\r\n    SearchPickerChoices.prototype.getHeight = function () {\r\n        return this.container.offsetHeight;\r\n    };\r\n    SearchPickerChoices.prototype.canSelectMoreChoices = function () {\r\n        if (this.inputForbidden)\r\n            return false;\r\n        if (this.options.maxSelectedChoices <= 0)\r\n            return true;\r\n        return this.selected.length < this.options.maxSelectedChoices;\r\n    };\r\n    SearchPickerChoices.prototype.setAutocompleteText = function (text) {\r\n        if (!this.shouldUpdateAutoComplete || this.isMobile) {\r\n            return;\r\n        }\r\n        if (text && this.inputElm.value.length) {\r\n            this.removeAutocompleteText();\r\n            var selStart = this.inputElm.value.length, inputValue = this.escapeRegexp(this.inputElm.value);\r\n            if (text.toUpperCase().search(inputValue.toUpperCase()) === 0) {\r\n                this.inputElm.value = text;\r\n            }\r\n            else {\r\n                this.inputElm.value += \" (\" + text + \")\";\r\n            }\r\n            var selEnd = this.inputElm.value.length;\r\n            this.inputElm.setSelectionRange(selStart, selEnd);\r\n        }\r\n        this.scaleSearchField();\r\n    };\r\n    SearchPickerChoices.prototype.removeAutocompleteText = function () {\r\n        if (this.inputElm.selectionStart) {\r\n            this.inputElm.value = this.inputElm.value.substring(0, this.inputElm.selectionStart);\r\n        }\r\n    };\r\n    Object.defineProperty(SearchPickerChoices.prototype, \"forbidInput\", {\r\n        set: function (val) {\r\n            if (val) {\r\n                this.inputForbidden = true;\r\n                this.disableInput(true);\r\n            }\r\n            else {\r\n                this.inputForbidden = false;\r\n                this.disableInput(false);\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    SearchPickerChoices.prototype.escapeRegexp = function (text) {\r\n        return text.replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g, '\\\\$&');\r\n    };\r\n    SearchPickerChoices.prototype.setup = function () {\r\n        this.applyTemplate();\r\n        this.bindEvents();\r\n        this.scaleSearchField();\r\n    };\r\n    SearchPickerChoices.prototype.scaleSearchField = function () {\r\n        if (!this.canSelectMoreChoices()) {\r\n            this.disableInput(true);\r\n            return;\r\n        }\r\n        else {\r\n            this.disableInput(false);\r\n        }\r\n        var placeholderText = this.selected.length > 0 ? '' : this.options.placeholder;\r\n        this.inputElm.placeholder = placeholderText;\r\n        this.ensureSizerElement();\r\n        this.sizerElmText.nodeValue = this.inputElm.value || placeholderText;\r\n        var w = this.sizerElm.offsetWidth + 20;\r\n        this.inputElm.style.width = w + 'px';\r\n        if (this.inputElm.style.display !== 'block')\r\n            this.inputElm.style.display = 'block';\r\n    };\r\n    SearchPickerChoices.prototype.disableInput = function (disable) {\r\n        if (disable) {\r\n            this.inputElm.style.display = 'none';\r\n            this.keepActive = false;\r\n            this.onBlur();\r\n        }\r\n        else {\r\n            this.inputElm.style.display = 'block';\r\n        }\r\n    };\r\n    SearchPickerChoices.prototype.ensureSizerElement = function () {\r\n        if (!this.sizerElm) {\r\n            var div = document.createElement('div');\r\n            var styleBlock = \"position:absolute; left: -1000px; top: -1000px;\";\r\n            var styles = ['font-size', 'font-style', 'font-weight', 'font-family', 'line-height', 'text-transform', 'letter-spacing'];\r\n            for (var i = 0; i < styles.length; i++) {\r\n                var style = styles[i];\r\n                styleBlock += style + \":\" + Utility.getCssPropertyValue(this.inputElm, style) + \";\";\r\n            }\r\n            div.id = '__srchpicker-sizer';\r\n            div.style.cssText = styleBlock;\r\n            this.sizerElmText = document.createTextNode('');\r\n            div.appendChild(this.sizerElmText);\r\n            document.body.appendChild(div);\r\n            this.sizerElm = div;\r\n        }\r\n    };\r\n    SearchPickerChoices.prototype.bindEvents = function () {\r\n        var _this = this;\r\n        this.container.onclick = function () {\r\n            _this.onClick();\r\n        };\r\n        this.inputElm.onblur = function (e) {\r\n            //prevent input blur when we are focusing on picker container, as it should behave as input\r\n            if ((e.relatedTarget && e.relatedTarget === _this.container)\r\n                || document.activeElement === _this.container /*IE*/) {\r\n                _this.inputElm.focus();\r\n                return;\r\n            }\r\n            _this.onBlur();\r\n        };\r\n        this.inputElm.onfocus = function () {\r\n            _this.onFocus();\r\n        };\r\n        this.inputElm.onkeyup = function (e) {\r\n            _this.onKeyUp(e);\r\n        };\r\n        this.inputElm.oninput = function (e) {\r\n            // IE 11 может выбросить событие input при установке плейсхолдера в элемент\r\n            if (document.activeElement !== e.target) {\r\n                return;\r\n            }\r\n            _this.onInput(e);\r\n        };\r\n        this.inputElm.onkeydown = function (e) {\r\n            _this.onKeyDown(e);\r\n        };\r\n    };\r\n    SearchPickerChoices.prototype.onClick = function () {\r\n        this.onFocus();\r\n        if (!this.canSelectMoreChoices())\r\n            return;\r\n        if (this.options.minLengthToSearch == 0 && this.isActive) {\r\n            this.clearBackstroke();\r\n            this.$notifyEvent('search', this.getSearchText());\r\n        }\r\n    };\r\n    SearchPickerChoices.prototype.onKeyUp = function (evt) {\r\n        switch (evt.keyCode) {\r\n            case 46:\r\n            case 8:\r\n                if (this.backstrokeLength < 1 && this.selected.length > 0) {\r\n                    this.keydownBackstroke();\r\n                }\r\n                else if (!this.pendingBackstroke.length && this.canSelectMoreChoices()) {\r\n                    this.clearHilightedChoice();\r\n                    //this.$notifyEvent('search', this.getSearchText());\r\n                }\r\n                this.scaleSearchField();\r\n                break;\r\n            case 13:\r\n                if (this.inputElm.value) {\r\n                    evt.preventDefault();\r\n                }\r\n                this.$notifyEvent('enter', evt);\r\n                break;\r\n            case 27:\r\n                this.$notifyEvent('escape', evt);\r\n                break;\r\n            case 9:\r\n            case 38:\r\n            case 40:\r\n            case 16:\r\n            case 17:\r\n            case 224: // mac\r\n            case 91:\r\n            case 92:\r\n            default:\r\n                break;\r\n        }\r\n    };\r\n    SearchPickerChoices.prototype.onInput = function (evt) {\r\n        this.shouldUpdateAutoComplete = this.prevInputTextLength <= this.inputElm.value.length;\r\n        this.prevInputTextLength = this.inputElm.value.length;\r\n        if (this.canSelectMoreChoices()) {\r\n            this.clearBackstroke();\r\n            this.scaleSearchField();\r\n            this.$notifyEvent('search', this.getSearchText());\r\n        }\r\n        this.checkEmptiness();\r\n    };\r\n    SearchPickerChoices.prototype.onKeyDown = function (evt) {\r\n        switch (evt.keyCode) {\r\n            case 46:\r\n            case 8: //backspace & del\r\n                this.backstrokeLength = this.inputElm.value.length;\r\n                break;\r\n            case 9:\r\n                this.$notifyEvent('tab', evt);\r\n                break;\r\n            case 13:\r\n            case 16:\r\n            case 17:\r\n                if (this.inputElm.value) {\r\n                    evt.preventDefault();\r\n                }\r\n                break;\r\n            case 38:\r\n                evt.preventDefault();\r\n                this.shouldUpdateAutoComplete = true;\r\n                this.$notifyEvent('arrowUp', evt);\r\n                break;\r\n            case 40:\r\n                evt.preventDefault();\r\n                this.shouldUpdateAutoComplete = true;\r\n                this.$notifyEvent('arrowDown', evt);\r\n                break;\r\n            case 35: // left, right, home, end\r\n            case 36:\r\n            case 37:\r\n            case 39:\r\n                // возможный сброс выделения с текста автодополнения\r\n                if (this.inputElm.selectionStart !== this.inputElm.selectionEnd) {\r\n                    this.onInput(evt);\r\n                }\r\n                break;\r\n            default:\r\n                if (!this.canSelectMoreChoices()) {\r\n                    evt.preventDefault();\r\n                }\r\n                else {\r\n                    this.scaleSearchField();\r\n                    //перебрасываем набор текста в инпут\r\n                    if (document.activeElement !== this.inputElm) {\r\n                        this.inputElm.focus();\r\n                        this.onFocus();\r\n                    }\r\n                }\r\n                break;\r\n        }\r\n    };\r\n    SearchPickerChoices.prototype.onRemoveChoiceClick = function (choice) {\r\n        var id = Utility.getAttribute(choice, 'data-id');\r\n        var item = this.getSelectedChoiceById(id);\r\n        if (item != null)\r\n            this.removeChoice(item);\r\n    };\r\n    SearchPickerChoices.prototype.clearHilightedChoice = function () {\r\n        if (this.highlightedChoice) {\r\n            Utility.removeClass(this.highlightedChoice, 'highlighted');\r\n            this.highlightedChoice = null;\r\n        }\r\n    };\r\n    SearchPickerChoices.prototype.clearBackstroke = function () {\r\n        if (this.pendingBackstroke.length) {\r\n            for (var _i = 0, _a = this.pendingBackstroke; _i < _a.length; _i++) {\r\n                var li = _a[_i];\r\n                Utility.removeClass(li, 'search-choice-focus');\r\n            }\r\n            this.pendingBackstroke = [];\r\n        }\r\n    };\r\n    SearchPickerChoices.prototype.keydownBackstroke = function () {\r\n        if (this.pendingBackstroke.length) {\r\n            for (var _i = 0, _a = this.pendingBackstroke; _i < _a.length; _i++) {\r\n                var li = _a[_i];\r\n                var id = Utility.getAttribute(li, 'data-id');\r\n                var selectedItem = this.getSelectedChoiceById(id);\r\n                if (selectedItem != null) {\r\n                    this.removeChoice(selectedItem);\r\n                    //li.blur();\r\n                }\r\n            }\r\n            this.clearBackstroke();\r\n            //this.$notifyEvent('blur')\r\n            //this.inputElm.focus();\r\n        }\r\n        else {\r\n            var items = this.container.getElementsByTagName(\"li\");\r\n            var lastChoice = null;\r\n            for (var i = 0; i < items.length; i++) {\r\n                if (Utility.hasClass(items[i], 'search-choice'))\r\n                    lastChoice = items[i];\r\n            }\r\n            this.pendingBackstroke[0] = lastChoice;\r\n            if (this.pendingBackstroke[0] != null)\r\n                Utility.addClass(this.pendingBackstroke[0], \"search-choice-focus\");\r\n        }\r\n    };\r\n    SearchPickerChoices.prototype.onBlur = function () {\r\n        var _this = this;\r\n        this.inFocus = false;\r\n        if (!this.isActive)\r\n            return;\r\n        setTimeout(function () {\r\n            if (!_this.keepActive) {\r\n                Utility.removeClass(_this.container, 'active'); // active in ul root elem\r\n                _this.isActive = false;\r\n                _this.clearBackstroke();\r\n                _this.$notifyEvent('blur');\r\n            }\r\n        }, 10);\r\n    };\r\n    SearchPickerChoices.prototype.onFocus = function () {\r\n        var _this = this;\r\n        this.inFocus = true;\r\n        if (this.isActive)\r\n            return;\r\n        Utility.addClass(this.container, 'active'); // active in ul root elem\r\n        this.isActive = true;\r\n        setTimeout(function () {\r\n            if (_this.inFocus && (document.activeElement === _this.inputElm || document.activeElement === _this.container\r\n                || (!_this.canSelectMoreChoices() && Utility.hasClass(document.activeElement, 'search-choice')))) {\r\n                _this.$notifyEvent('focus');\r\n            }\r\n        }, 10);\r\n    };\r\n    SearchPickerChoices.prototype.removeChoiceElement = function (id) {\r\n        var choices = this.container.getElementsByTagName('li');\r\n        for (var i = 0; i < choices.length; i++) {\r\n            if (Utility.hasClass(choices[i], 'search-choice')\r\n                && Utility.getAttribute(choices[i], 'data-id') === id) {\r\n                choices[i].parentElement.removeChild(choices[i]);\r\n                return;\r\n            }\r\n        }\r\n    };\r\n    SearchPickerChoices.prototype.applyTemplate = function () {\r\n        Utility.addClass(this.container, EMPTY_PICKER_CSS_CLASS);\r\n        this.inputJsElmWrap = document.createElement('li');\r\n        this.inputJsElmWrap.className = 'search-field';\r\n        this.inputElm = document.createElement('input');\r\n        this.inputElm.type = 'text';\r\n        this.inputElm.placeholder = this.options.placeholder;\r\n        this.inputElm.autocomplete = 'off';\r\n        this.inputJsElmWrap.appendChild(this.inputElm);\r\n        this.container.appendChild(this.inputJsElmWrap);\r\n    };\r\n    SearchPickerChoices.prototype.$renderChoice = function (item, index) {\r\n        var _this = this;\r\n        var choice = document.createElement('li');\r\n        choice.tabIndex = 0; //important to receive keyboard events\r\n        choice.className = 'search-choice';\r\n        choice.setAttribute('data-id', item.id.toString());\r\n        if (this.options.maxSelectedChoices == 1) {\r\n            Utility.addClass(choice, \"sole-choice\");\r\n        }\r\n        choice.onclick = function (e) {\r\n            if (Utility.hasClass(e.target, 'search-choice-close')) {\r\n                _this.onRemoveChoiceClick(choice);\r\n                return;\r\n            }\r\n            Utility.addClass(choice, \"search-choice-focus\");\r\n            if (e.metaKey || e.ctrlKey) {\r\n                Utility.addClass(choice, \"search-choice-focus\");\r\n                _this.pendingBackstroke.push(choice);\r\n            }\r\n            else if (e.shiftKey) {\r\n                var newChoices = _this.getChoicesRange(choice, _this.pendingBackstroke[_this.pendingBackstroke.length - 1]);\r\n                for (var _i = 0, newChoices_1 = newChoices; _i < newChoices_1.length; _i++) {\r\n                    var ch = newChoices_1[_i];\r\n                    Utility.addClass(ch, \"search-choice-focus\");\r\n                    _this.pendingBackstroke.push(ch);\r\n                }\r\n            }\r\n            else {\r\n                _this.pendingBackstroke.forEach(function (el) {\r\n                    if (el !== choice) {\r\n                        Utility.removeClass(el, \"search-choice-focus\");\r\n                    }\r\n                });\r\n                _this.pendingBackstroke = [choice];\r\n            }\r\n            //e.preventDefault();\r\n            e.stopPropagation();\r\n            if (_this.inputElm.style.display !== \"none\") {\r\n                _this.inputElm.focus();\r\n            }\r\n        };\r\n        choice.onkeyup = function (e) {\r\n            _this.onKeyUp(e);\r\n        };\r\n        choice.onkeydown = function (e) {\r\n            _this.onKeyDown(e);\r\n        };\r\n        choice.onblur = function (e) {\r\n            _this.onBlur();\r\n        };\r\n        choice.onfocus = function (e) {\r\n            _this.onFocus();\r\n        };\r\n        choice.appendChild(this.options.choiceRenderer(item, this.options.maxSelectedChoices == 1));\r\n        return choice;\r\n    };\r\n    SearchPickerChoices.prototype.getSelectedChoiceById = function (id) {\r\n        for (var i = 0; i < this.selected.length; i++) {\r\n            if (this.selected[i].id.toString() === id)\r\n                return this.selected[i];\r\n        }\r\n        return null;\r\n    };\r\n    SearchPickerChoices.prototype.getChoicesRange = function (choice1, choice2) {\r\n        var nodesToAdd = [], inInterval = false;\r\n        for (var k = 0, e = this.container.childNodes.item(0); k < this.container.childNodes.length; ++k) {\r\n            if (e === choice1 || e === choice2) {\r\n                nodesToAdd.push(e);\r\n                inInterval = !inInterval;\r\n                if (!inInterval)\r\n                    break;\r\n            }\r\n            else if (inInterval && Utility.hasClass(e, \"search-choice\")) {\r\n                nodesToAdd.push(e);\r\n            }\r\n            e = e.nextSibling;\r\n        }\r\n        return nodesToAdd;\r\n    };\r\n    SearchPickerChoices.prototype.checkEmptiness = function () {\r\n        if (this.inputElm.value == \"\" && this.selected.length == 0) {\r\n            Utility.addClass(this.container, EMPTY_PICKER_CSS_CLASS);\r\n        }\r\n        else {\r\n            Utility.removeClass(this.container, EMPTY_PICKER_CSS_CLASS);\r\n        }\r\n    };\r\n    return SearchPickerChoices;\r\n}(EventObject));\r\nexport { SearchPickerChoices };\r\n","var EventObject = /** @class */ (function () {\r\n    function EventObject() {\r\n        this.events = {};\r\n    }\r\n    EventObject.prototype.$notifyEvent = function (eventName) {\r\n        var args = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            args[_i - 1] = arguments[_i];\r\n        }\r\n        if (this.events[eventName]) {\r\n            for (var i = 0; i < this.events[eventName].length; i++) {\r\n                this.events[eventName][i].apply(this, args);\r\n            }\r\n        }\r\n    };\r\n    EventObject.prototype.on = function (eventName, cb) {\r\n        if (!this.events[eventName]) {\r\n            this.events[eventName] = [];\r\n        }\r\n        this.events[eventName].push(cb);\r\n    };\r\n    return EventObject;\r\n}());\r\nexport { EventObject };\r\n","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { Utility } from \"./Utils\";\r\nimport { EventObject } from \"./EventObject\";\r\nvar SearchPickerResults = /** @class */ (function (_super) {\r\n    __extends(SearchPickerResults, _super);\r\n    function SearchPickerResults(sourceElm, options) {\r\n        var _this = _super.call(this) || this;\r\n        _this.sourceElm = sourceElm;\r\n        _this.options = options;\r\n        _this.hideOnEmptyResults = false;\r\n        _this.selectFirstOnDefault = true;\r\n        _this.isShown = false;\r\n        _this.trackSelectedItems = true;\r\n        _this.items = [];\r\n        _this.itemsToHide = [];\r\n        _this.selectedObj = {};\r\n        _this.lastSearchQuery = null;\r\n        _this.processSearchResponses = true;\r\n        _this.setupHtml();\r\n        _this.bindEvents();\r\n        _this.highlightedIndex = _this.getDefaultHighlightedIndex();\r\n        return _this;\r\n    }\r\n    SearchPickerResults.prototype.hide = function () {\r\n        if (!this.isShown)\r\n            return;\r\n        this.dropdownElm.style.display = 'none';\r\n        this.isShown = false;\r\n    };\r\n    SearchPickerResults.prototype.show = function () {\r\n        if (this.isShown)\r\n            return;\r\n        this.dropdownElm.style.display = 'block';\r\n        this.isShown = true;\r\n        this.invalidateActiveResultByIndex();\r\n    };\r\n    SearchPickerResults.prototype.search = function (query) {\r\n        if (this.lastSearchQuery === query) {\r\n            if (this.hideOnEmptyResults && this.items.length === 0)\r\n                this.hide();\r\n            else\r\n                this.show();\r\n            return;\r\n        }\r\n        this.searchInternal(query);\r\n    };\r\n    SearchPickerResults.prototype.repositionResults = function () {\r\n        this.setTop(this.sourceElm.offsetHeight);\r\n    };\r\n    SearchPickerResults.prototype.moveSelectedDown = function () {\r\n        if (!this.isShown)\r\n            return;\r\n        this.highlightedIndex++;\r\n        if (this.highlightedIndex > this.items.length - 1) {\r\n            this.highlightedIndex = this.items.length - 1;\r\n        }\r\n        this.invalidateActiveResultByIndex();\r\n    };\r\n    SearchPickerResults.prototype.moveSelectedUp = function () {\r\n        if (!this.isShown)\r\n            return;\r\n        this.highlightedIndex--;\r\n        if (this.highlightedIndex <= this.getDefaultHighlightedIndex()) {\r\n            this.highlightedIndex = this.getDefaultHighlightedIndex();\r\n        }\r\n        this.invalidateActiveResultByIndex();\r\n    };\r\n    SearchPickerResults.prototype.selectHighlighted = function (selectedVia) {\r\n        if (!this.highlightedEl)\r\n            return;\r\n        var id = Utility.getAttribute(this.highlightedEl, 'data-id');\r\n        var item = this.getItemById(id);\r\n        if (item != null)\r\n            this.$notifyEvent('resultSelected', item, this.lastSearchQuery, selectedVia, this.items.indexOf(item) + 1, this.items.length);\r\n        this.setProcessSearchResponses(false);\r\n    };\r\n    SearchPickerResults.prototype.setTop = function (top) {\r\n        if (top <= 0)\r\n            top = 0;\r\n        this.dropdownElm.style.top = top + 'px';\r\n    };\r\n    SearchPickerResults.prototype.addSelectedResult = function (result) {\r\n        if (!this.trackSelectedItems)\r\n            return; //option disabled\r\n        if (!this.selectedObj[result.id]) {\r\n            this.selectedObj[result.id] = true;\r\n            this.invalidateSelectedResults();\r\n            this.clearHighlighted();\r\n        }\r\n    };\r\n    SearchPickerResults.prototype.removeSelectedResult = function (item) {\r\n        if (!this.trackSelectedItems)\r\n            return; //option disabled\r\n        if (!this.isSelected(item.id.toString()))\r\n            return;\r\n        delete this.selectedObj[item.id.toString()];\r\n        this.invalidateSelectedResults();\r\n    };\r\n    SearchPickerResults.prototype.updateOptions = function (options) {\r\n        this.options = options;\r\n    };\r\n    SearchPickerResults.prototype.addToBlacklist = function (items) {\r\n        if (!items) {\r\n            return;\r\n        }\r\n        var toAdd;\r\n        if (!Array.isArray(items)) {\r\n            toAdd = [items];\r\n        }\r\n        else {\r\n            toAdd = items;\r\n        }\r\n        this.itemsToHide = this.itemsToHide.concat(toAdd);\r\n        if (toAdd.length) {\r\n            this.invalidateSelectedResults();\r\n        }\r\n    };\r\n    SearchPickerResults.prototype.removeFromBlacklist = function (items) {\r\n        if (!items) {\r\n            return;\r\n        }\r\n        var toRemove;\r\n        if (!Array.isArray(items)) {\r\n            toRemove = [items];\r\n        }\r\n        else {\r\n            toRemove = items;\r\n        }\r\n        if (toRemove.length) {\r\n            for (var _i = 0, toRemove_1 = toRemove; _i < toRemove_1.length; _i++) {\r\n                var i = toRemove_1[_i];\r\n                for (var b = this.itemsToHide.length - 1; b >= 0; b--) {\r\n                    if (i.id === this.itemsToHide[b].id) {\r\n                        this.itemsToHide.splice(b, 1);\r\n                    }\r\n                }\r\n            }\r\n            this.invalidateSelectedResults();\r\n        }\r\n    };\r\n    SearchPickerResults.prototype.getHighlighted = function () {\r\n        if (this.highlightedEl) {\r\n            var hi = this.getItemById(this.highlightedEl.getAttribute(\"data-id\"));\r\n            if (hi) {\r\n                return hi;\r\n            }\r\n        }\r\n    };\r\n    /* устанавливаем флаг, что не нужно обрабатывать результаты поиска\r\n        (напр.  из-зп того что поле сейчас пустое) */\r\n    SearchPickerResults.prototype.setProcessSearchResponses = function (process) {\r\n        this.processSearchResponses = process;\r\n    };\r\n    SearchPickerResults.prototype.isSelected = function (id) {\r\n        return typeof (this.selectedObj[id]) !== 'undefined';\r\n    };\r\n    SearchPickerResults.prototype.searchInternal = function (query) {\r\n        var _this = this;\r\n        this.lastSearchQuery = query;\r\n        this.setProcessSearchResponses(true);\r\n        return this.options.searcher.search(query, this.options, function (items, data) {\r\n            if (query !== _this.lastSearchQuery || !_this.processSearchResponses) {\r\n                return;\r\n            }\r\n            _this.resultsElm.innerHTML = '';\r\n            _this.items = items;\r\n            var numResults = 0;\r\n            if (items.length) {\r\n                for (var i = 0; i < items.length; i++) {\r\n                    //блеклист\r\n                    if (_this.itemsToHide.indexOf(items[i]) > -1 || _this.isSelected(items[i].id)) {\r\n                        continue;\r\n                    }\r\n                    //лимит на показываемые результаты\r\n                    if (_this.options.resultsLimit && i >= _this.options.resultsLimit) {\r\n                        break;\r\n                    }\r\n                    var result = _this.$buildResult(items[i], query);\r\n                    if (result != null) {\r\n                        _this.resultsElm.appendChild(result);\r\n                        numResults++;\r\n                    }\r\n                }\r\n            }\r\n            _this.clearHighlighted();\r\n            if (numResults == 0) {\r\n                if (_this.hideOnEmptyResults) {\r\n                    _this.hide();\r\n                    return;\r\n                }\r\n                else {\r\n                    _this.resultsElm.appendChild(_this.$buildNoResults(query));\r\n                }\r\n            }\r\n            if (_this.options.resultFooterRenderer) {\r\n                var footer = _this.$buildResultsFooter(query, items, data);\r\n                if (footer != null) {\r\n                    _this.resultsElm.appendChild(footer);\r\n                }\r\n            }\r\n            _this.$notifyEvent('afterSearch', query, items, numResults);\r\n            _this.show();\r\n        }, function (message) {\r\n            _this.resultsElm.appendChild(_this.$buildErrorResult(message));\r\n        });\r\n    };\r\n    SearchPickerResults.prototype.setupHtml = function () {\r\n        this.dropdownElm = document.createElement('div');\r\n        this.dropdownElm.className = 'dropdown';\r\n        Utility.insertAfter(this.dropdownElm, this.sourceElm);\r\n        this.resultsElm = this.$template();\r\n        this.dropdownElm.style.left = '0';\r\n        this.dropdownElm.style.display = 'none';\r\n        this.dropdownElm.appendChild(this.resultsElm);\r\n    };\r\n    SearchPickerResults.prototype.bindEvents = function () {\r\n        var _this = this;\r\n        this.dropdownElm.onclick = function (e) {\r\n            var result = e.target;\r\n            while (result != null) {\r\n                if (Utility.hasClass(result, 'result'))\r\n                    break;\r\n                result = result['parentElement'];\r\n            }\r\n            if (!result || Utility.hasClass(result, 'disabled'))\r\n                return false;\r\n            var id = Utility.getAttribute(result, 'data-id');\r\n            var item = _this.getItemById(id);\r\n            if (item != null)\r\n                _this.$notifyEvent('resultSelected', item, _this.lastSearchQuery, 'click', _this.items.indexOf(item) + 1, _this.items.length);\r\n            return false;\r\n        };\r\n    };\r\n    SearchPickerResults.prototype.$buildResult = function (item, query, data) {\r\n        var result = document.createElement('li');\r\n        result.className = 'result';\r\n        var idStr = item.id.toString();\r\n        result.setAttribute('data-id', idStr);\r\n        if (this.isSelected(idStr))\r\n            result.className += ' disabled';\r\n        result.appendChild(this.options.resultRenderer(item, query));\r\n        return result;\r\n    };\r\n    SearchPickerResults.prototype.$buildResultsFooter = function (query, results, data) {\r\n        var footer = document.createElement('div');\r\n        footer.className = 'result-footer';\r\n        if (this.options.resultFooterRenderer) {\r\n            var footerContent = this.options.resultFooterRenderer(query, results, data);\r\n            if (footerContent) {\r\n                footer.appendChild(footerContent);\r\n            }\r\n            else {\r\n                return null;\r\n            }\r\n        }\r\n        return footer;\r\n    };\r\n    SearchPickerResults.prototype.clearHighlighted = function () {\r\n        this.highlightedIndex = this.getDefaultHighlightedIndex();\r\n        //this.highlightedEl = null;\r\n        this.invalidateActiveResultByIndex();\r\n    };\r\n    SearchPickerResults.prototype.$buildNoResults = function (query) {\r\n        var noResult = document.createElement('li');\r\n        noResult.className = 'no-results';\r\n        noResult.appendChild(this.options.noResultsRenderer(query));\r\n        return noResult;\r\n    };\r\n    SearchPickerResults.prototype.$buildErrorResult = function (message) {\r\n        var errorResult = document.createElement('li');\r\n        errorResult.className = 'no-results';\r\n        errorResult.appendChild(document.createTextNode(message));\r\n        return errorResult;\r\n    };\r\n    SearchPickerResults.prototype.$template = function () {\r\n        var ul = document.createElement('ul');\r\n        ul.className = 'dropdown-menu';\r\n        return ul;\r\n    };\r\n    SearchPickerResults.prototype.getItemById = function (id) {\r\n        for (var i = 0; i < this.items.length; i++) {\r\n            if (this.items[i].id.toString() === id)\r\n                return this.items[i];\r\n        }\r\n        return null;\r\n    };\r\n    SearchPickerResults.prototype.invalidateSelectedResults = function () {\r\n        var _this = this;\r\n        this.$foreachResult(function (result) {\r\n            var id = Utility.getAttribute(result, 'data-id');\r\n            if (_this.isSelected(id) || _this.itemsToHide.some(function (item) { return item.id === id; })) {\r\n                Utility.removeClass(result, 'highlighted');\r\n                Utility.addClass(result, 'disabled');\r\n            }\r\n            else {\r\n                Utility.removeClass(result, 'disabled');\r\n            }\r\n            return true;\r\n        });\r\n    };\r\n    SearchPickerResults.prototype.invalidateActiveResultByIndex = function () {\r\n        var _this = this;\r\n        var hoverRemoved = false, elemFound = false;\r\n        var index = 0;\r\n        var beforeId = this.highlightedEl ? this.highlightedEl.getAttribute(\"data-id\") : -1;\r\n        this.highlightedEl = null;\r\n        this.$foreachResult(function (result) {\r\n            if (Utility.hasClass(result, 'disabled') || Utility.hasClass(result, 'no-results'))\r\n                return true; //continue\r\n            if (!elemFound && index === _this.highlightedIndex) {\r\n                _this.highlightedEl = result;\r\n                elemFound = true;\r\n            }\r\n            else if (!hoverRemoved && Utility.hasClass(result, 'highlighted')) {\r\n                Utility.removeClass(result, 'highlighted');\r\n                hoverRemoved = true;\r\n            }\r\n            if (elemFound && hoverRemoved)\r\n                return false; //break\r\n            index++;\r\n            return true; //continue\r\n        });\r\n        var afterId = this.highlightedEl ? this.highlightedEl.getAttribute(\"data-id\") : -1;\r\n        this.$notifyEvent(\"highlight\", {\r\n            item: afterId ? this.getItemById(afterId) : undefined,\r\n            hasChanged: beforeId !== afterId\r\n        });\r\n        this.repositionResults();\r\n        if (this.highlightedEl) {\r\n            Utility.addClass(this.highlightedEl, 'highlighted');\r\n            this.invalidateActiveResultVisible(this.highlightedEl);\r\n        }\r\n    };\r\n    SearchPickerResults.prototype.invalidateActiveResult = function () {\r\n        var _this = this;\r\n        if (!this.highlightedEl)\r\n            return;\r\n        var hoverRemoved = false, itemFound = false;\r\n        var index = 0;\r\n        this.$foreachResult(function (result) {\r\n            if (Utility.hasClass(result, 'disabled'))\r\n                return true;\r\n            if (!itemFound && _this.highlightedEl === result) {\r\n                _this.highlightedIndex = index;\r\n                itemFound = true;\r\n            }\r\n            else if (!hoverRemoved && Utility.hasClass(result, 'highlighted')) {\r\n                Utility.removeClass(result, 'highlighted');\r\n                hoverRemoved = true;\r\n            }\r\n            if (itemFound && hoverRemoved)\r\n                return false; //break;\r\n            index++;\r\n            return true; //continue\r\n        });\r\n        Utility.addClass(this.highlightedEl, 'highlighted');\r\n    };\r\n    SearchPickerResults.prototype.$foreachResult = function (cb) {\r\n        var liCollection = this.resultsElm.childNodes;\r\n        for (var i = 0; i < liCollection.length; i++) {\r\n            if (!cb(liCollection[i]))\r\n                break;\r\n        }\r\n    };\r\n    SearchPickerResults.prototype.invalidateActiveResultVisible = function (el) {\r\n        var resultsJsObj = this.resultsElm;\r\n        var maxHeight = parseInt(Utility.getCssPropertyValue(resultsJsObj, 'maxHeight') || \"190px\", 10);\r\n        var scrollTop = resultsJsObj.scrollTop;\r\n        var visibleBottom = maxHeight + scrollTop;\r\n        var elTop = el.offsetTop;\r\n        var elBottom = elTop + el.offsetHeight;\r\n        if (elBottom >= visibleBottom) {\r\n            resultsJsObj.scrollTop = scrollTop + (elBottom - visibleBottom);\r\n        }\r\n        else if (el.offsetTop < scrollTop) {\r\n            resultsJsObj.scrollTop = el.offsetTop;\r\n        }\r\n    };\r\n    SearchPickerResults.prototype.getDefaultHighlightedIndex = function () {\r\n        return this.selectFirstOnDefault ? 0 : -1;\r\n    };\r\n    return SearchPickerResults;\r\n}(EventObject));\r\nexport { SearchPickerResults };\r\n","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { EventObject } from \"./EventObject\";\r\nimport { SearchPickerChoices } from \"./SearchPickerChoices\";\r\nimport { SearchPickerResults } from \"./SearchPickerResults\";\r\nimport { DefaultSearchPickerOptions } from \"./options/DefaultSearchPickerOptions\";\r\nimport { Utility } from \"./Utils\";\r\nvar SearchPicker = /** @class */ (function (_super) {\r\n    __extends(SearchPicker, _super);\r\n    function SearchPicker(container, options) {\r\n        var _this = _super.call(this) || this;\r\n        _this.container = container;\r\n        _this.pickerItems = [];\r\n        _this.searchTmrId = null;\r\n        _this.isMobile = isMobile();\r\n        _this.options = _this.extendOptions(new DefaultSearchPickerOptions(), options);\r\n        _this.setupHtml();\r\n        _this.bindEvents();\r\n        return _this;\r\n    }\r\n    SearchPicker.prototype.getChoices = function () {\r\n        return this.choices.selected;\r\n    };\r\n    SearchPicker.prototype.clearChoices = function () {\r\n        this.choices.removeAll();\r\n    };\r\n    SearchPicker.prototype.addChoice = function (item) {\r\n        this.choices.addChoice(item);\r\n        this.results.addSelectedResult(item);\r\n    };\r\n    SearchPicker.prototype.removeChoice = function (item) {\r\n        this.choices.removeChoice(item);\r\n        this.results.removeSelectedResult(item);\r\n    };\r\n    SearchPicker.prototype.updateSource = function (source) {\r\n        this.options.source = source;\r\n        this.results.updateOptions(this.options);\r\n    };\r\n    SearchPicker.prototype.focus = function () {\r\n        this.choices.focus();\r\n    };\r\n    SearchPicker.prototype.allowInput = function () {\r\n        this.choices.forbidInput = false;\r\n    };\r\n    SearchPicker.prototype.forbidInput = function () {\r\n        this.choices.forbidInput = true;\r\n    };\r\n    SearchPicker.prototype.setupHtml = function () {\r\n        Utility.addClass(this.container, 'container');\r\n        this.applyTemplate();\r\n        this.choices = new SearchPickerChoices(this.choicesElm, this.options, this.isMobile);\r\n        this.results = new SearchPickerResults(this.choicesElm, this.options);\r\n    };\r\n    SearchPicker.prototype.bindEvents = function () {\r\n        var _this = this;\r\n        this.container.onclick = function () { return _this.onClick(); };\r\n        this.container.onmouseleave = function () {\r\n            _this.choices.keepActive = false;\r\n        };\r\n        this.container.onmouseenter = function () {\r\n            _this.choices.keepActive = true;\r\n        };\r\n        this.choices.on('search', function (text) {\r\n            _this.onSearch(text);\r\n        });\r\n        this.choices.on('blur', function () {\r\n            _this.inFocus = false;\r\n            _this.results.hide();\r\n        });\r\n        this.choices.on('focus', function () {\r\n            _this.inFocus = true;\r\n            _this.onSearch(_this.choices.getSearchText());\r\n        });\r\n        this.choices.on('escape', function () {\r\n            _this.onEscape();\r\n        });\r\n        this.choices.on('tab', function (e) {\r\n            _this.onSelect(e, 'tab');\r\n        });\r\n        this.choices.on('enter', function (e) {\r\n            _this.onSelect(e, 'enter');\r\n        });\r\n        this.choices.on('arrowDown', function () { return _this.results.moveSelectedDown(); });\r\n        this.choices.on('arrowUp', function () { return _this.results.moveSelectedUp(); });\r\n        this.choices.on('choiceRemoved', function (item) { return _this.onChoiceRemoved(item); });\r\n        this.results.on('resultSelected', function (result, query, selectedVia, rank, count) { return _this.onResultSelected(result, query, selectedVia, rank, count); });\r\n        this.results.on('highlight', function (_a) {\r\n            var item = _a.item, changed = _a.changed;\r\n            if (item) {\r\n                _this.choices.setAutocompleteText(item.title);\r\n            }\r\n        });\r\n    };\r\n    SearchPicker.prototype.onSearch = function (text) {\r\n        if (text.length < this.options.minLengthToSearch || !this.choices.canSelectMoreChoices()) {\r\n            this.results.hide();\r\n            //случай, когда приходит устаревший поиск уже при пустом/недостаточно длинном поле\r\n            this.results.setProcessSearchResponses(false);\r\n        }\r\n        else if (this.inFocus) {\r\n            this.results.search(text);\r\n            this.results.setProcessSearchResponses(true);\r\n        }\r\n    };\r\n    SearchPicker.prototype.onChoiceRemoved = function (item) {\r\n        this.results.removeSelectedResult(item);\r\n        this.$notifyEvent('choiceRemoved', item);\r\n        this.results.setTop(this.choices.getHeight());\r\n    };\r\n    SearchPicker.prototype.onClick = function () {\r\n        this.choices.focus();\r\n    };\r\n    SearchPicker.prototype.onEscape = function () {\r\n        this.results.hide();\r\n    };\r\n    SearchPicker.prototype.onSelect = function (e, selectedVia) {\r\n        if (!this.results.isShown)\r\n            return;\r\n        e.preventDefault();\r\n        this.results.selectHighlighted(selectedVia);\r\n    };\r\n    SearchPicker.prototype.onResultSelected = function (result, query, selectedVia, rank, totalCount) {\r\n        this.choices.addChoice(result);\r\n        this.results.hide();\r\n        this.results.addSelectedResult(result);\r\n        this.results.setTop(this.choices.getHeight());\r\n        this.$notifyEvent('choiceAdded', result, query, selectedVia, rank, totalCount);\r\n    };\r\n    SearchPicker.prototype.applyTemplate = function () {\r\n        this.choicesElm = document.createElement('ul');\r\n        this.choicesElm.className = 'choices form-control';\r\n        if (this.options.maxSelectedChoices === 1) {\r\n            Utility.addClass(this.choicesElm, \"sole-choice\");\r\n        }\r\n        this.container.appendChild(this.choicesElm);\r\n    };\r\n    SearchPicker.prototype.extendOptions = function (def, user) {\r\n        var result = {};\r\n        for (var prop in user) {\r\n            result[prop] = user[prop];\r\n        }\r\n        for (var prop in def) {\r\n            if (typeof (user[prop]) == 'undefined')\r\n                result[prop] = def[prop];\r\n        }\r\n        return result;\r\n    };\r\n    return SearchPicker;\r\n}(EventObject));\r\nexport { SearchPicker };\r\nexport function isMobile() {\r\n    return !!(navigator.userAgent.match(/Android/i)\r\n        || navigator.userAgent.match(/webOS/i)\r\n        || navigator.userAgent.match(/iPhone/i)\r\n        || navigator.userAgent.match(/iPad/i)\r\n        || navigator.userAgent.match(/iPod/i)\r\n        || navigator.userAgent.match(/BlackBerry/i)\r\n        || navigator.userAgent.match(/Windows Phone/i));\r\n}\r\n","export { DefaultSearchPickerOptions } from \"./options/DefaultSearchPickerOptions\";\r\nexport { EventObject } from \"./EventObject\";\r\nexport { SearchPicker } from \"./SearchPicker\";\r\nexport { SearchPickerChoices } from \"./SearchPickerChoices\";\r\nexport { SearchPickerResults } from \"./SearchPickerResults\";\r\nexport { Utility } from \"./Utils\";\r\n"],"sourceRoot":""}